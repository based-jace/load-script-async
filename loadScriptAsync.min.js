"use strict";class loadScriptAsync{constructor(){this.CreateLSARegex()}CreateLSARegex(){class e{constructor(){this.SetFields(),this.CreateSrcRegEx()}SetFields(){this.jsExts=["js","ts","es","es6","ls","sjs","eg","json","json5","cs","coffee","coffee.md","mjs"],this.srcRegEx="",this.testSrcRegEx="",this.rmSrcBeginning=/(?!<script.*src=)["'].*/iu,this.embedRegEx=/<script>[\s\S]*?<\/script>/giu,this.embedScriptContent=/>+?[\s\S]*</iu,this.combinedRegEx}CreateSrcRegEx(){for(let e=0;e<this.jsExts.length;e++)this.srcRegEx+=`<script.*src=["'].*.${this.jsExts[e]}["']?`,e!=this.jsExts.length-1&&(this.srcRegEx+="|");this.srcRegEx=new RegExp(this.srcRegEx,"gui");for(let e=0;e<this.jsExts.length;e++)this.testSrcRegEx+=`^<script.*src=["'].*.${this.jsExts[e]}["'](?!.*<)`,e!=this.jsExts.length-1&&(this.testSrcRegEx+="|");this.testSrcRegEx=new RegExp(this.testSrcRegEx,"ui"),this.combinedRegEx=new RegExp("("+this.srcRegEx.source+")|("+this.embedRegEx.source+")","gui")}}this.LSA_REGEX=new e}ReplaceHtml(e,s){try{const t=new DOMParser,i=t.parseFromString(e.toString(),"text/html"),c=s.cloneNode(!1);s.parentNode.replaceChild(c,s),this.PlaceElems(i.head,c,!0),this.PlaceElems(i.body,c,!0)}catch(e){return console.log(e),!1}return!0}CheckForScripts(e){return!!e.innerHTML.match(this.LSA_REGEX.combinedRegEx)}PlaceElems(e,s,t=!0,i=!1){if(t&&!this.CheckForScripts(e))return s.innerHTML+=e.innerHTML,!0;const c=e.childNodes;for(let e of c)if("SCRIPT"===e.tagName){const t=document.createElement("script"),i=e.src;if(i&&""!==i)t.src=i;else{const s=document.createTextNode(e.innerHTML);t.appendChild(s)}s.appendChild(t)}else try{if(void 0!==e.children)if(e.children.length>0){const t=e.cloneNode(!1);s.appendChild(t),this.PlaceElems(e.childNodes,t,i,!1)}else s.appendChild(e)}catch(s){return console.log(e),console.log(s),!1}return!0}}